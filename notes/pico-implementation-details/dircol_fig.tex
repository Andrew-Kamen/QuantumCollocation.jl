\begin{tikzpicture}[scale=1.25]
  % Axes
  \draw[->] (0,0) -- (7,0) node[right] {$t$};
  \draw[->] (0,0) -- (0,5) node[above] {$x(t)$};

  % Trajectory points
  \draw[blue, thick] (0,1.6) -- (1,1.1);
  \draw[blue, thick] (1,1.5)  -- (2,3) ;
  \draw[blue, thick] (2,3.4) node[above,black,above=5pt] {$x_k$} -- (3,4.2) node[above,black,above=5pt] {$f(x_k, u_k)$};
  \draw[blue, thick] (3,3.6)node[above,black,left=5pt,below=2.5pt] {$x_{k+1}$} -- (4,2);
  \draw[blue, thick] (4,1.6) -- (5,1);
  \draw[blue, thick] (5,1.4) -- (6,2.2);

  % Dynamics initial points points
  \foreach \x/\y in {0/1.6, 1/1.5, 2/3.4, 3/3.6, 4/1.6, 5/1.4}
    \filldraw[blue] (\x,\y) circle (2pt);

  % Dynamics propagation points
  \foreach \x/\y in {1/1.1, 2/3, 3/4.2, 4/2, 5/1, 6/2.2}
    \filldraw[orange] (\x,\y) circle (2pt);

  % draw curly brace for each point
  \draw[decorate,decoration={brace,amplitude=3pt,mirror},xshift=4pt, line width=0.7pt] (1,1.1) -- (1,1.5);
  \draw[decorate,decoration={brace,amplitude=3pt,mirror},xshift=4pt, line width=0.7pt] (2,3) -- (2,3.4);
  \draw[decorate,decoration={brace,amplitude=3pt},xshift=4pt, line width=0.7pt] (3,4.2) -- (3,3.6) node[pos=0.5,black,right=4pt] {$f(x_{k+1}, x_k, u_k)$};
  \draw[decorate,decoration={brace,amplitude=3pt},xshift=4pt, line width=0.7pt] (4,2) -- (4,1.6);
  \draw[decorate,decoration={brace,amplitude=3pt,mirror},xshift=4pt, line width=0.7pt] (5,1) -- (5,1.4);



  % Time intervals
  \foreach \x in {1,2,3,4,5}
    \draw (\x,-0.1) -- (\x,0.1);

  % Labels for time intervals
  \foreach \x/\label in {0/0, 1/1, 2/2, 3/3, 4/4, 5/5, 6/T}
    \node[below] at (\x,-0.1) {};
\end{tikzpicture}






